# ê¸°ìˆ  ìŠ¤íƒ & ì•„í‚¤í…ì²˜ ì„¤ê³„

## ğŸ—ï¸ AWS ì¤‘ì‹¬ ê²¬ê³ í•œ ì•„í‚¤í…ì²˜

### í•µì‹¬ ì„¤ê³„ ì›ì¹™
- **ì„œë²„ë¦¬ìŠ¤ ìš°ì„ **: ìš´ì˜ ë¶€ë‹´ ìµœì†Œí™”
- **ê´€ë¦¬í˜• ì„œë¹„ìŠ¤**: AWSê°€ ê´€ë¦¬í•˜ëŠ” ì„œë¹„ìŠ¤ ìµœëŒ€ í™œìš©
- **í™•ì¥ì„±**: íŠ¸ë˜í”½ ì¦ê°€ì— ìë™ ëŒ€ì‘
- **ë³´ì•ˆ**: AWS ë³´ì•ˆ ëª¨ë²” ì‚¬ë¡€ ì ìš©

---

## ğŸ”§ ìµœì í™”ëœ ê¸°ìˆ  ìŠ¤íƒ

### Backend (ì„œë²„ë¦¬ìŠ¤)
```
ê¸°ì¡´: Node.js + Express + Prisma + PostgreSQL
ê°œì„ : Python ìˆœìˆ˜ Lambda + API Gateway + DynamoDB + boto3
```

**ë³€ê²½ ì´ìœ :**
- **Python Lambda**: ë¹ ë¥¸ ê°œë°œ, ìµœì†Œ ì½œë“œ ìŠ¤íƒ€íŠ¸
- **DynamoDB**: ì„œë²„ë¦¬ìŠ¤ NoSQL, ë°€ë¦¬ì´ˆ ì‘ë‹µì‹œê°„
- **boto3**: AWS ì„œë¹„ìŠ¤ ì™„ë²½ í†µí•©
- **ìˆœìˆ˜ í•¨ìˆ˜**: í”„ë ˆì„ì›Œí¬ ì˜¤ë²„í—¤ë“œ ì œê±°

### Frontend (ì •ì  í˜¸ìŠ¤íŒ…)
```
ê¸°ì¡´: Next.js 14 + Tailwind
ê°œì„ : Next.js 14 (Static Export) + CloudFront + S3
```

**ë³€ê²½ ì´ìœ :**
- **S3 + CloudFront**: ê¸€ë¡œë²Œ CDN, 99.99% ê°€ìš©ì„±
- **Static Export**: ì„œë²„ ë¹„ìš© ì œë¡œ, ë¹ ë¥¸ ë¡œë”©

### AI & ë°ì´í„° ì²˜ë¦¬
```
ê¸°ì¡´: AWS Bedrockë§Œ ì‚¬ìš©
ê°œì„ : Bedrock + SageMaker + Comprehend + Textract
```

**ì¶”ê°€ AWS AI ì„œë¹„ìŠ¤:**
- **Comprehend**: ê°ì • ë¶„ì„, ë¬¸ì˜ ìš°ì„ ìˆœìœ„ ìë™ ë¶„ë¥˜
- **Textract**: ì²¨ë¶€ ì´ë¯¸ì§€/ë¬¸ì„œ í…ìŠ¤íŠ¸ ì¶”ì¶œ
- **SageMaker**: ì»¤ìŠ¤í…€ ëª¨ë¸ í•™ìŠµ (í–¥í›„ í™•ì¥)

---

## ğŸš€ ê°•í™”ëœ AWS ì„œë¹„ìŠ¤ í™œìš©

### 1. ë³´ì•ˆ & ì¸ì¦
```
AWS Cognito: ì‚¬ìš©ì ì¸ì¦/ê¶Œí•œ ê´€ë¦¬
AWS WAF: ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ë°©í™”ë²½
AWS Shield: DDoS ë³´í˜¸
AWS Secrets Manager: API í‚¤ ê´€ë¦¬
```

### 2. ë°ì´í„° & ìŠ¤í† ë¦¬ì§€
```
DynamoDB: ë©”ì¸ ë°ì´í„°ë² ì´ìŠ¤ (ì„œë²„ë¦¬ìŠ¤)
S3: íŒŒì¼ ì €ì¥, ì •ì  í˜¸ìŠ¤íŒ…
ElastiCache: ì„¸ì…˜ ìºì‹± (í•„ìš”ì‹œ)
```

### 3. AI & ë¶„ì„
```
AWS Bedrock: ê¸°ë³¸ AI ì‘ë‹µ ìƒì„±
Amazon Comprehend: ê°ì • ë¶„ì„, ë¶„ë¥˜
Amazon Textract: ë¬¸ì„œ OCR
Amazon Translate: ë‹¤êµ­ì–´ ì§€ì› (í–¥í›„)
```

### 4. ì•Œë¦¼ & í†µì‹ 
```
Amazon SES: ì´ë©”ì¼ ë°œì†¡
Amazon SNS: í‘¸ì‹œ ì•Œë¦¼
Amazon EventBridge: ì´ë²¤íŠ¸ ê¸°ë°˜ ì•„í‚¤í…ì²˜
```

### 5. ëª¨ë‹ˆí„°ë§ & ìš´ì˜
```
CloudWatch: ë¡œê·¸, ë©”íŠ¸ë¦­, ì•ŒëŒ
AWS X-Ray: ë¶„ì‚° ì¶”ì 
AWS Config: ë¦¬ì†ŒìŠ¤ êµ¬ì„± ê´€ë¦¬
AWS CloudTrail: API í˜¸ì¶œ ê°ì‚¬
```

---

## ğŸ“Š ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨

```
[ê³ ê°] â†’ [CloudFront] â†’ [S3 Static Site]
                           â†“
[API Gateway] â†’ [Lambda] â†’ [DynamoDB]
     â†“              â†“
[Cognito]    [Step Functions]
                    â†“
            [Bedrock + Comprehend]
                    â†“
               [SES + SNS]
```

### ìƒì„¸ í”Œë¡œìš°
```
1. ê³ ê° ë¬¸ì˜ ì ‘ìˆ˜
   Frontend (S3/CloudFront) â†’ API Gateway â†’ Lambda â†’ DynamoDB

2. AI ì‘ë‹µ ìƒì„±
   Lambda â†’ Step Functions â†’ Bedrock â†’ Comprehend â†’ DynamoDB

3. ì¸ê°„ ì—ìŠ¤ì»¬ë ˆì´ì…˜
   Lambda â†’ SES (ì´ë©”ì¼) â†’ SNS (ì•Œë¦¼) â†’ ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ

4. ìƒíƒœ ì¶”ì 
   Frontend â†’ API Gateway â†’ Lambda â†’ DynamoDB â†’ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
```

---

## ğŸ¯ ê²¬ê³ ì„± í–¥ìƒ í¬ì¸íŠ¸

### 1. ìë™ ë³µêµ¬ & í™•ì¥
- **Lambda**: ìë™ ìŠ¤ì¼€ì¼ë§, ì¥ì•  ê²©ë¦¬
- **DynamoDB**: ìë™ ë°±ì—…, ë‹¤ì¤‘ AZ
- **API Gateway**: ìë™ ì¬ì‹œë„, íšŒë¡œ ì°¨ë‹¨ê¸°

### 2. ë³´ì•ˆ ê°•í™”
- **VPC**: ë„¤íŠ¸ì›Œí¬ ê²©ë¦¬
- **IAM**: ìµœì†Œ ê¶Œí•œ ì›ì¹™
- **ì•”í˜¸í™”**: ì „ì†¡/ì €ì¥ ì‹œ ì•”í˜¸í™”

### 3. ë¹„ìš© ìµœì í™”
- **ì„œë²„ë¦¬ìŠ¤**: ì‚¬ìš©í•œ ë§Œí¼ë§Œ ê³¼ê¸ˆ
- **Reserved Capacity**: DynamoDB ì˜ˆì•½ ìš©ëŸ‰
- **S3 Intelligent Tiering**: ìë™ ë¹„ìš© ìµœì í™”

### 4. ìš´ì˜ íš¨ìœ¨ì„±
- **CloudFormation/CDK**: ì¸í”„ë¼ ì½”ë“œí™”
- **CloudWatch**: í†µí•© ëª¨ë‹ˆí„°ë§
- **AWS Config**: ê·œì • ì¤€ìˆ˜ ìë™ í™•ì¸

---

## ğŸ”§ DynamoDB í…Œì´ë¸” ì„¤ê³„

### Companies í…Œì´ë¸”
```python
{
    "PK": "COMPANY#{company_id}",
    "SK": "METADATA",
    "name": "íšŒì‚¬ëª…",
    "api_key": "API í‚¤",
    "domain_context": "íšŒì‚¬ ë„ë©”ì¸ ì •ë³´",
    "faq_data": {...},
    "subscription_tier": "basic|pro|enterprise",
    "created_at": "2024-01-01T00:00:00Z"
}
```

### Inquiries í…Œì´ë¸”
```python
{
    "PK": "INQUIRY#{inquiry_id}",
    "SK": "METADATA",
    "GSI1PK": "COMPANY#{company_id}",
    "GSI1SK": "INQUIRY#{timestamp}",
    "customer_email": "customer@example.com",
    "category": "ê¸°ìˆ ë¬¸ì˜",
    "title": "ë¬¸ì˜ ì œëª©",
    "content": "ë¬¸ì˜ ë‚´ìš©",
    "urgency": "high|medium|low",
    "status": "pending|ai_responded|escalated|resolved",
    "ai_response": "AI ì‘ë‹µ ë‚´ìš©",
    "human_response": "ì¸ê°„ ì‘ë‹µ ë‚´ìš©",
    "estimated_response_time": 180,
    "created_at": "2024-01-01T00:00:00Z"
}
```

### AI_Responses í…Œì´ë¸”
```python
{
    "PK": "AI_RESPONSE#{response_id}",
    "SK": "METADATA",
    "GSI1PK": "INQUIRY#{inquiry_id}",
    "GSI1SK": "RESPONSE#{timestamp}",
    "model_used": "claude-3-5-sonnet",
    "prompt_tokens": 500,
    "completion_tokens": 200,
    "response_quality_score": 4.2,
    "created_at": "2024-01-01T00:00:00Z"
}
```

---

## ğŸš€ Python Lambda í•¨ìˆ˜ êµ¬ì¡°

### 1. create_inquiry.py
```python
# POST /api/inquiries
import json
import uuid
from services.dynamodb_service import save_inquiry
from services.ai_service import generate_response

def lambda_handler(event, context):
    # 1. ì…ë ¥ ê²€ì¦
    # 2. DynamoDBì— ë¬¸ì˜ ì €ì¥
    # 3. AI ì‘ë‹µ ìƒì„±
    # 4. ê²°ê³¼ ë°˜í™˜
    pass
```

### 2. get_inquiry.py
```python
# GET /api/inquiries/{id}
import json
from services.dynamodb_service import get_inquiry_by_id

def lambda_handler(event, context):
    # 1. ë¬¸ì˜ ID ì¶”ì¶œ
    # 2. DynamoDBì—ì„œ ì¡°íšŒ
    # 3. ê²°ê³¼ ë°˜í™˜
    pass
```

### 3. escalate_inquiry.py
```python
# POST /api/inquiries/{id}/escalate
import json
from services.email_service import send_escalation_email
from services.dynamodb_service import update_inquiry_status

def lambda_handler(event, context):
    # 1. ì—ìŠ¤ì»¬ë ˆì´ì…˜ ìš”ì²­ ì²˜ë¦¬
    # 2. SESë¡œ ê´€ë¦¬ì ì´ë©”ì¼ ë°œì†¡
    # 3. ìƒíƒœ ì—…ë°ì´íŠ¸
    # 4. ê²°ê³¼ ë°˜í™˜
    pass
```

---

## ğŸ“‹ ì„±ëŠ¥ & ê°€ìš©ì„± ëª©í‘œ

### ì„±ëŠ¥ ëª©í‘œ
- **API ì‘ë‹µ ì‹œê°„**: < 500ms
- **AI ì‘ë‹µ ìƒì„±**: < 3ì´ˆ
- **ë™ì‹œ ì²˜ë¦¬**: 100 req/sec
- **ê°€ìš©ì„±**: 99.9%

### ëª¨ë‹ˆí„°ë§ ë©”íŠ¸ë¦­
```
CloudWatch ì»¤ìŠ¤í…€ ë©”íŠ¸ë¦­:
- AI í† í° ì‚¬ìš©ëŸ‰
- ì‘ë‹µ í’ˆì§ˆ ì ìˆ˜
- ì—ìŠ¤ì»¬ë ˆì´ì…˜ ë¹„ìœ¨
- ê³ ê° ë§Œì¡±ë„

ì•ŒëŒ ì„¤ì •:
- API ì—ëŸ¬ìœ¨ > 5%
- Lambda ì‹¤í–‰ ì‹œê°„ > 10ì´ˆ
- DynamoDB ìŠ¤ë¡œí‹€ë§ ë°œìƒ
- Bedrock ë¹„ìš© > $100/day
```

---

## ğŸ”’ ë³´ì•ˆ ì„¤ì •

### IAM ì—­í•  (ìµœì†Œ ê¶Œí•œ)
```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": [
        "dynamodb:GetItem",
        "dynamodb:PutItem",
        "dynamodb:UpdateItem",
        "dynamodb:Query"
      ],
      "Resource": "arn:aws:dynamodb:*:*:table/CS-*"
    },
    {
      "Effect": "Allow",
      "Action": [
        "bedrock:InvokeModel"
      ],
      "Resource": "arn:aws:bedrock:*:*:model/claude-3-5-sonnet"
    }
  ]
}
```

### WAF ê·œì¹™
```
1. Rate Limiting: 1000 req/hour per IP
2. Geo Blocking: í—ˆìš© êµ­ê°€ ì„¤ì •
3. SQL Injection ë°©ì§€
4. XSS ê³µê²© ì°¨ë‹¨
5. ë´‡ íŠ¸ë˜í”½ í•„í„°ë§
```

ì´ ì•„í‚¤í…ì²˜ë¡œ **99.9% ê°€ìš©ì„±**, **ìë™ í™•ì¥**, **ë³´ì•ˆ ê°•í™”**ë¥¼ ë‹¬ì„±í•˜ë©´ì„œ 24ì‹œê°„ ë‚´ MVP ê°œë°œì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.