# ê¸°ìˆ  ìŠ¤íƒ & ì•„í‚¤í…ì²˜ ì„¤ê³„

## ğŸ—ï¸ AWS ì¤‘ì‹¬ ê²¬ê³ í•œ ì•„í‚¤í…ì²˜

### í•µì‹¬ ì„¤ê³„ ì›ì¹™
- **ì„œë²„ë¦¬ìŠ¤ ìš°ì„ **: ìš´ì˜ ë¶€ë‹´ ìµœì†Œí™”
- **ê´€ë¦¬í˜• ì„œë¹„ìŠ¤**: AWSê°€ ê´€ë¦¬í•˜ëŠ” ì„œë¹„ìŠ¤ ìµœëŒ€ í™œìš©
- **í™•ì¥ì„±**: íŠ¸ë˜í”½ ì¦ê°€ì— ìë™ ëŒ€ì‘
- **ë³´ì•ˆ**: AWS ë³´ì•ˆ ëª¨ë²” ì‚¬ë¡€ ì ìš©

---

## ğŸ”§ ìµœì í™”ëœ ê¸°ìˆ  ìŠ¤íƒ

### Backend (ì„œë²„ë¦¬ìŠ¤)
```
ê¸°ì¡´: Node.js + Express + Prisma + PostgreSQL
ê°œì„ : Python + AWS Lambda + API Gateway + DynamoDB + Step Functions
```

**ë³€ê²½ ì´ìœ :**
- **Python**: AI/ML ë¼ì´ë¸ŒëŸ¬ë¦¬ ìƒíƒœê³„ ìš°ìˆ˜, AWS SDK ì™„ì„±ë„ ë†’ìŒ
- **Lambda**: ì„œë²„ ê´€ë¦¬ ë¶ˆí•„ìš”, ìë™ ìŠ¤ì¼€ì¼ë§
- **DynamoDB**: ì„œë²„ë¦¬ìŠ¤ NoSQL, ë°€ë¦¬ì´ˆ ì‘ë‹µì‹œê°„
- **Step Functions**: ë³µì¡í•œ ì›Œí¬í”Œë¡œìš° ê´€ë¦¬ (ë¬¸ì˜ â†’ AI â†’ ì—ìŠ¤ì»¬ë ˆì´ì…˜)

### Frontend (ì •ì  í˜¸ìŠ¤íŒ…)
```
ê¸°ì¡´: Next.js 14 + Tailwind
ê°œì„ : Next.js 14 (Static Export) + CloudFront + S3
```

**ë³€ê²½ ì´ìœ :**
- **S3 + CloudFront**: ê¸€ë¡œë²Œ CDN, 99.99% ê°€ìš©ì„±
- **Static Export**: ì„œë²„ ë¹„ìš© ì œë¡œ, ë¹ ë¥¸ ë¡œë”©

### AI & ë°ì´í„° ì²˜ë¦¬
```
ê¸°ì¡´: AWS Bedrockë§Œ ì‚¬ìš©
ê°œì„ : Bedrock + SageMaker + Comprehend + Textract
```

**ì¶”ê°€ AWS AI ì„œë¹„ìŠ¤:**
- **Comprehend**: ê°ì • ë¶„ì„, ë¬¸ì˜ ìš°ì„ ìˆœìœ„ ìë™ ë¶„ë¥˜
- **Textract**: ì²¨ë¶€ ì´ë¯¸ì§€/ë¬¸ì„œ í…ìŠ¤íŠ¸ ì¶”ì¶œ
- **SageMaker**: ì»¤ìŠ¤í…€ ëª¨ë¸ í•™ìŠµ (í–¥í›„ í™•ì¥)

---

## ğŸš€ ê°•í™”ëœ AWS ì„œë¹„ìŠ¤ í™œìš©

### 1. ë³´ì•ˆ & ì¸ì¦
```
AWS Cognito: ì‚¬ìš©ì ì¸ì¦/ê¶Œí•œ ê´€ë¦¬
AWS WAF: ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ë°©í™”ë²½
AWS Shield: DDoS ë³´í˜¸
AWS Secrets Manager: API í‚¤ ê´€ë¦¬
```

### 2. ë°ì´í„° & ìŠ¤í† ë¦¬ì§€
```
DynamoDB: ë©”ì¸ ë°ì´í„°ë² ì´ìŠ¤ (ì„œë²„ë¦¬ìŠ¤)
S3: íŒŒì¼ ì €ì¥, ì •ì  í˜¸ìŠ¤íŒ…
ElastiCache: ì„¸ì…˜ ìºì‹± (í•„ìš”ì‹œ)
```

### 3. AI & ë¶„ì„
```
AWS Bedrock: ê¸°ë³¸ AI ì‘ë‹µ ìƒì„±
Amazon Comprehend: ê°ì • ë¶„ì„, ë¶„ë¥˜
Amazon Textract: ë¬¸ì„œ OCR
Amazon Translate: ë‹¤êµ­ì–´ ì§€ì› (í–¥í›„)
```

### 4. ì•Œë¦¼ & í†µì‹ 
```
Amazon SES: ì´ë©”ì¼ ë°œì†¡
Amazon SNS: í‘¸ì‹œ ì•Œë¦¼
Amazon EventBridge: ì´ë²¤íŠ¸ ê¸°ë°˜ ì•„í‚¤í…ì²˜
```

### 5. ëª¨ë‹ˆí„°ë§ & ìš´ì˜
```
CloudWatch: ë¡œê·¸, ë©”íŠ¸ë¦­, ì•ŒëŒ
AWS X-Ray: ë¶„ì‚° ì¶”ì 
AWS Config: ë¦¬ì†ŒìŠ¤ êµ¬ì„± ê´€ë¦¬
AWS CloudTrail: API í˜¸ì¶œ ê°ì‚¬
```

---

## ğŸ“Š ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨

```
[ê³ ê°] â†’ [CloudFront] â†’ [S3 Static Site]
                           â†“
[API Gateway] â†’ [Lambda] â†’ [DynamoDB]
     â†“              â†“
[Cognito]    [Step Functions]
                    â†“
            [Bedrock + Comprehend]
                    â†“
               [SES + SNS]
```

### ìƒì„¸ í”Œë¡œìš°
```
1. ê³ ê° ë¬¸ì˜ ì ‘ìˆ˜
   Frontend (S3/CloudFront) â†’ API Gateway â†’ Lambda â†’ DynamoDB

2. AI ì‘ë‹µ ìƒì„±
   Lambda â†’ Step Functions â†’ Bedrock â†’ Comprehend â†’ DynamoDB

3. ì¸ê°„ ì—ìŠ¤ì»¬ë ˆì´ì…˜
   Lambda â†’ SES (ì´ë©”ì¼) â†’ SNS (ì•Œë¦¼) â†’ ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ

4. ìƒíƒœ ì¶”ì 
   Frontend â†’ API Gateway â†’ Lambda â†’ DynamoDB â†’ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
```

---

## ğŸ¯ ê²¬ê³ ì„± í–¥ìƒ í¬ì¸íŠ¸

### 1. ìë™ ë³µêµ¬ & í™•ì¥
- **Lambda**: ìë™ ìŠ¤ì¼€ì¼ë§, ì¥ì•  ê²©ë¦¬
- **DynamoDB**: ìë™ ë°±ì—…, ë‹¤ì¤‘ AZ
- **API Gateway**: ìë™ ì¬ì‹œë„, íšŒë¡œ ì°¨ë‹¨ê¸°

### 2. ë³´ì•ˆ ê°•í™”
- **VPC**: ë„¤íŠ¸ì›Œí¬ ê²©ë¦¬
- **IAM**: ìµœì†Œ ê¶Œí•œ ì›ì¹™
- **ì•”í˜¸í™”**: ì „ì†¡/ì €ì¥ ì‹œ ì•”í˜¸í™”

### 3. ë¹„ìš© ìµœì í™”
- **ì„œë²„ë¦¬ìŠ¤**: ì‚¬ìš©í•œ ë§Œí¼ë§Œ ê³¼ê¸ˆ
- **Reserved Capacity**: DynamoDB ì˜ˆì•½ ìš©ëŸ‰
- **S3 Intelligent Tiering**: ìë™ ë¹„ìš© ìµœì í™”

### 4. ìš´ì˜ íš¨ìœ¨ì„±
- **CloudFormation/CDK**: ì¸í”„ë¼ ì½”ë“œí™”
- **CloudWatch**: í†µí•© ëª¨ë‹ˆí„°ë§
- **AWS Config**: ê·œì • ì¤€ìˆ˜ ìë™ í™•ì¸

---

## ğŸ”§ DynamoDB í…Œì´ë¸” ì„¤ê³„

### Companies í…Œì´ë¸”
```javascript
{
  PK: "COMPANY#${companyId}",
  SK: "METADATA",
  name: "íšŒì‚¬ëª…",
  apiKey: "API í‚¤",
  domainContext: "íšŒì‚¬ ë„ë©”ì¸ ì •ë³´",
  faqData: {...},
  subscriptionTier: "basic|pro|enterprise",
  createdAt: "2024-01-01T00:00:00Z"
}
```

### Inquiries í…Œì´ë¸”
```javascript
{
  PK: "INQUIRY#${inquiryId}",
  SK: "METADATA",
  GSI1PK: "COMPANY#${companyId}",
  GSI1SK: "INQUIRY#${timestamp}",
  customerEmail: "customer@example.com",
  category: "ê¸°ìˆ ë¬¸ì˜",
  title: "ë¬¸ì˜ ì œëª©",
  content: "ë¬¸ì˜ ë‚´ìš©",
  urgency: "high|medium|low",
  status: "pending|ai_responded|escalated|resolved",
  aiResponse: "AI ì‘ë‹µ ë‚´ìš©",
  humanResponse: "ì¸ê°„ ì‘ë‹µ ë‚´ìš©",
  estimatedResponseTime: 180,
  createdAt: "2024-01-01T00:00:00Z"
}
```

### AI_Responses í…Œì´ë¸”
```javascript
{
  PK: "AI_RESPONSE#${responseId}",
  SK: "METADATA",
  GSI1PK: "INQUIRY#${inquiryId}",
  GSI1SK: "RESPONSE#${timestamp}",
  modelUsed: "claude-3-5-sonnet",
  promptTokens: 500,
  completionTokens: 200,
  responseQualityScore: 4.2,
  createdAt: "2024-01-01T00:00:00Z"
}
```

---

## ğŸš€ Lambda í•¨ìˆ˜ êµ¬ì¡° (Python)

### 1. inquiry-handler
```python
# POST /api/inquiries
import json
import boto3
from datetime import datetime

def lambda_handler(event, context):
    # 1. ì…ë ¥ ê²€ì¦
    # 2. DynamoDBì— ë¬¸ì˜ ì €ì¥
    # 3. Step Functions ì›Œí¬í”Œë¡œìš° ì‹œì‘
    # 4. ì‘ë‹µ ë°˜í™˜
    pass
```

### 2. ai-response-generator
```python
# Step Functionsì—ì„œ í˜¸ì¶œ
import boto3
from boto3.dynamodb.conditions import Key

def lambda_handler(event, context):
    # 1. íšŒì‚¬ ì»¨í…ìŠ¤íŠ¸ ì¡°íšŒ
    # 2. Comprehendë¡œ ê°ì •/ìš°ì„ ìˆœìœ„ ë¶„ì„
    # 3. Bedrockìœ¼ë¡œ AI ì‘ë‹µ ìƒì„±
    # 4. í’ˆì§ˆ ì ìˆ˜ ê³„ì‚°
    # 5. DynamoDB ì—…ë°ì´íŠ¸
    pass
```

### 3. status-tracker
```python
# GET /api/inquiries/{id}/status
def lambda_handler(event, context):
    # 1. ë¬¸ì˜ IDë¡œ ìƒíƒœ ì¡°íšŒ
    # 2. ì˜ˆìƒ ì‘ë‹µ ì‹œê°„ ê³„ì‚°
    # 3. ì§„í–‰ ìƒí™© ë°˜í™˜
    pass
```

### 4. escalation-handler
```python
# POST /api/inquiries/{id}/escalate
def lambda_handler(event, context):
    # 1. ì—ìŠ¤ì»¬ë ˆì´ì…˜ ìš”ì²­ ì²˜ë¦¬
    # 2. SESë¡œ ê´€ë¦¬ì ì´ë©”ì¼ ë°œì†¡
    # 3. SNSë¡œ í‘¸ì‹œ ì•Œë¦¼
    # 4. ìƒíƒœ ì—…ë°ì´íŠ¸
    pass
```

---

## ğŸ“‹ ì„±ëŠ¥ & ê°€ìš©ì„± ëª©í‘œ

### ì„±ëŠ¥ ëª©í‘œ
- **API ì‘ë‹µ ì‹œê°„**: < 500ms
- **AI ì‘ë‹µ ìƒì„±**: < 3ì´ˆ
- **ë™ì‹œ ì²˜ë¦¬**: 100 req/sec
- **ê°€ìš©ì„±**: 99.9%

### ëª¨ë‹ˆí„°ë§ ë©”íŠ¸ë¦­
```
CloudWatch ì»¤ìŠ¤í…€ ë©”íŠ¸ë¦­:
- AI í† í° ì‚¬ìš©ëŸ‰
- ì‘ë‹µ í’ˆì§ˆ ì ìˆ˜
- ì—ìŠ¤ì»¬ë ˆì´ì…˜ ë¹„ìœ¨
- ê³ ê° ë§Œì¡±ë„

ì•ŒëŒ ì„¤ì •:
- API ì—ëŸ¬ìœ¨ > 5%
- Lambda ì‹¤í–‰ ì‹œê°„ > 10ì´ˆ
- DynamoDB ìŠ¤ë¡œí‹€ë§ ë°œìƒ
- Bedrock ë¹„ìš© > $100/day
```

---

## ğŸ”’ ë³´ì•ˆ ì„¤ì •

### IAM ì—­í•  (ìµœì†Œ ê¶Œí•œ)
```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": [
        "dynamodb:GetItem",
        "dynamodb:PutItem",
        "dynamodb:UpdateItem",
        "dynamodb:Query"
      ],
      "Resource": "arn:aws:dynamodb:*:*:table/CS-*"
    },
    {
      "Effect": "Allow",
      "Action": [
        "bedrock:InvokeModel"
      ],
      "Resource": "arn:aws:bedrock:*:*:model/claude-3-5-sonnet"
    }
  ]
}
```

### WAF ê·œì¹™
```
1. Rate Limiting: 1000 req/hour per IP
2. Geo Blocking: í—ˆìš© êµ­ê°€ ì„¤ì •
3. SQL Injection ë°©ì§€
4. XSS ê³µê²© ì°¨ë‹¨
5. ë´‡ íŠ¸ë˜í”½ í•„í„°ë§
```

ì´ ì•„í‚¤í…ì²˜ë¡œ **99.9% ê°€ìš©ì„±**, **ìë™ í™•ì¥**, **ë³´ì•ˆ ê°•í™”**ë¥¼ ë‹¬ì„±í•˜ë©´ì„œ 24ì‹œê°„ ë‚´ MVP ê°œë°œì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.