{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.214.0"},"children":{"cs-chatbot-data":{"id":"cs-chatbot-data","path":"cs-chatbot-data","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.214.0"},"children":{"CSInquiryTable":{"id":"CSInquiryTable","path":"cs-chatbot-data/CSInquiryTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"cs-chatbot-data/CSInquiryTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"inquiry_id","attributeType":"S"},{"attributeName":"companyId","attributeType":"S"},{"attributeName":"created_at","attributeType":"S"},{"attributeName":"status","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"company-index","keySchema":[{"attributeName":"companyId","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"status-index","keySchema":[{"attributeName":"status","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"inquiry_id","keyType":"HASH"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"tableName":"cs-inquiries"}}},"ScalingRole":{"id":"ScalingRole","path":"cs-chatbot-data/CSInquiryTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.214.0","metadata":[]}}}},"TableName":{"id":"TableName","path":"cs-chatbot-data/TableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.214.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"cs-chatbot-data/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"cs-chatbot-data/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.214.0"}}}},"Exports":{"id":"Exports","path":"cs-chatbot-data/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Fn::GetAtt\":[\"CSInquiryTableFB9F4D47\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"CSInquiryTableFB9F4D47\",\"Arn\"]}","path":"cs-chatbot-data/Exports/Output{\"Fn::GetAtt\":[\"CSInquiryTableFB9F4D47\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.214.0"}},"Output{\"Ref\":\"CSInquiryTableFB9F4D47\"}":{"id":"Output{\"Ref\":\"CSInquiryTableFB9F4D47\"}","path":"cs-chatbot-data/Exports/Output{\"Ref\":\"CSInquiryTableFB9F4D47\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.214.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"cs-chatbot-data/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.214.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"cs-chatbot-data/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.214.0"}}}},"cs-chatbot-api":{"id":"cs-chatbot-api","path":"cs-chatbot-api","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.214.0"},"children":{"LambdaExecutionRole":{"id":"LambdaExecutionRole","path":"cs-chatbot-api/LambdaExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.214.0","metadata":[]},"children":{"ImportLambdaExecutionRole":{"id":"ImportLambdaExecutionRole","path":"cs-chatbot-api/LambdaExecutionRole/ImportLambdaExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.214.0","metadata":[]}},"Resource":{"id":"Resource","path":"cs-chatbot-api/LambdaExecutionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"cs-chatbot-api/LambdaExecutionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"cs-chatbot-api/LambdaExecutionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"cs-chatbot-data:ExportsOutputFnGetAttCSInquiryTableFB9F4D47Arn1628D4EA"},{"Fn::Join":["",[{"Fn::ImportValue":"cs-chatbot-data:ExportsOutputFnGetAttCSInquiryTableFB9F4D47Arn1628D4EA"},"/index/*"]]}]},{"Action":["bedrock:GetModel","bedrock:InvokeModel","bedrock:ListModels"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"LambdaExecutionRoleDefaultPolicy6D69732F","roles":[{"Ref":"LambdaExecutionRoleD5C26073"}]}}}}}}},"HealthCheck":{"id":"HealthCheck","path":"cs-chatbot-api/HealthCheck","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.214.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"cs-chatbot-api/HealthCheck/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.214.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"cs-chatbot-api/HealthCheck/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.214.0","metadata":[]}},"Resource":{"id":"Resource","path":"cs-chatbot-api/HealthCheck/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}}}},"Code":{"id":"Code","path":"cs-chatbot-api/HealthCheck/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.214.0"},"children":{"Stage":{"id":"Stage","path":"cs-chatbot-api/HealthCheck/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.214.0"}},"AssetBucket":{"id":"AssetBucket","path":"cs-chatbot-api/HealthCheck/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.214.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"cs-chatbot-api/HealthCheck/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"},"s3Key":"0214b4c78aaa7d6e48cfab4a35424f05b54add465d43279ba193b42f3898d66b.zip"},"environment":{"variables":{"DYNAMODB_TABLE":{"Fn::ImportValue":"cs-chatbot-data:ExportsOutputRefCSInquiryTableFB9F4D4704589F40"}}},"handler":"handlers/health_check.lambda_handler","memorySize":128,"role":{"Fn::GetAtt":["HealthCheckServiceRoleC964F23C","Arn"]},"runtime":"python3.11","timeout":10}}}}},"InquiryHandler":{"id":"InquiryHandler","path":"cs-chatbot-api/InquiryHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.214.0","metadata":[]},"children":{"Code":{"id":"Code","path":"cs-chatbot-api/InquiryHandler/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.214.0"},"children":{"Stage":{"id":"Stage","path":"cs-chatbot-api/InquiryHandler/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.214.0"}},"AssetBucket":{"id":"AssetBucket","path":"cs-chatbot-api/InquiryHandler/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.214.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"cs-chatbot-api/InquiryHandler/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"},"s3Key":"0214b4c78aaa7d6e48cfab4a35424f05b54add465d43279ba193b42f3898d66b.zip"},"environment":{"variables":{"DYNAMODB_TABLE":{"Fn::ImportValue":"cs-chatbot-data:ExportsOutputRefCSInquiryTableFB9F4D4704589F40"},"BEDROCK_DEFAULT_MODEL":"claude-4-1-opus","BEDROCK_FALLBACK_MODEL":"claude-4-opus","BEDROCK_FAST_MODEL":"claude-4-sonnet","BEDROCK_MAX_TOKENS":"4096","BEDROCK_TEMPERATURE":"0.7","BEDROCK_SELECTION_STRATEGY":"adaptive"}},"handler":"handlers/inquiry_handler.lambda_handler","memorySize":512,"role":{"Fn::GetAtt":["LambdaExecutionRoleD5C26073","Arn"]},"runtime":"python3.11","timeout":30}}}}},"AIResponseGenerator":{"id":"AIResponseGenerator","path":"cs-chatbot-api/AIResponseGenerator","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.214.0","metadata":[]},"children":{"Code":{"id":"Code","path":"cs-chatbot-api/AIResponseGenerator/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.214.0"},"children":{"Stage":{"id":"Stage","path":"cs-chatbot-api/AIResponseGenerator/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.214.0"}},"AssetBucket":{"id":"AssetBucket","path":"cs-chatbot-api/AIResponseGenerator/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.214.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"cs-chatbot-api/AIResponseGenerator/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"},"s3Key":"0214b4c78aaa7d6e48cfab4a35424f05b54add465d43279ba193b42f3898d66b.zip"},"environment":{"variables":{"DYNAMODB_TABLE":{"Fn::ImportValue":"cs-chatbot-data:ExportsOutputRefCSInquiryTableFB9F4D4704589F40"},"BEDROCK_DEFAULT_MODEL":"claude-4-1-opus","BEDROCK_FALLBACK_MODEL":"claude-4-opus","BEDROCK_FAST_MODEL":"claude-4-sonnet","BEDROCK_MAX_TOKENS":"4096","BEDROCK_TEMPERATURE":"0.7","BEDROCK_SELECTION_STRATEGY":"adaptive"}},"handler":"handlers/ai_response_generator.lambda_handler","memorySize":512,"role":{"Fn::GetAtt":["LambdaExecutionRoleD5C26073","Arn"]},"runtime":"python3.11","timeout":30}}}}},"CSChatbotAPI":{"id":"CSChatbotAPI","path":"cs-chatbot-api/CSChatbotAPI","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"cs-chatbot-api/CSChatbotAPI/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"name":"CS Chatbot API"}}},"Deployment":{"id":"Deployment","path":"cs-chatbot-api/CSChatbotAPI/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"cs-chatbot-api/CSChatbotAPI/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"Automatically created by the RestApi construct","restApiId":{"Ref":"CSChatbotAPIF9C23C8C"}}}}}},"DeploymentStage.prod":{"id":"DeploymentStage.prod","path":"cs-chatbot-api/CSChatbotAPI/DeploymentStage.prod","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"cs-chatbot-api/CSChatbotAPI/DeploymentStage.prod/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"CSChatbotAPIDeployment42D3E63C07ce1a94e12a9ab12f7769fa3b9773db"},"restApiId":{"Ref":"CSChatbotAPIF9C23C8C"},"stageName":"prod"}}}}},"Endpoint":{"id":"Endpoint","path":"cs-chatbot-api/CSChatbotAPI/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.214.0"}},"Default":{"id":"Default","path":"cs-chatbot-api/CSChatbotAPI/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.214.0","metadata":[]},"children":{"OPTIONS":{"id":"OPTIONS","path":"cs-chatbot-api/CSChatbotAPI/Default/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"cs-chatbot-api/CSChatbotAPI/Default/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Requested-With,Accept,Origin,Access-Control-Request-Method,Access-Control-Request-Headers'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Max-Age":"'86400'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Fn::GetAtt":["CSChatbotAPIF9C23C8C","RootResourceId"]},"restApiId":{"Ref":"CSChatbotAPIF9C23C8C"}}}}}},"GET":{"id":"GET","path":"cs-chatbot-api/CSChatbotAPI/Default/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.214.0","metadata":[]},"children":{"ApiPermission.cschatbotapiCSChatbotAPI86443238.GET..":{"id":"ApiPermission.cschatbotapiCSChatbotAPI86443238.GET..","path":"cs-chatbot-api/CSChatbotAPI/Default/GET/ApiPermission.cschatbotapiCSChatbotAPI86443238.GET..","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HealthCheckA1C381C7","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"CSChatbotAPIF9C23C8C"},"/",{"Ref":"CSChatbotAPIDeploymentStageprodBC09F56E"},"/GET/"]]}}}},"ApiPermission.Test.cschatbotapiCSChatbotAPI86443238.GET..":{"id":"ApiPermission.Test.cschatbotapiCSChatbotAPI86443238.GET..","path":"cs-chatbot-api/CSChatbotAPI/Default/GET/ApiPermission.Test.cschatbotapiCSChatbotAPI86443238.GET..","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HealthCheckA1C381C7","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"CSChatbotAPIF9C23C8C"},"/test-invoke-stage/GET/"]]}}}},"Resource":{"id":"Resource","path":"cs-chatbot-api/CSChatbotAPI/Default/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["HealthCheckA1C381C7","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Fn::GetAtt":["CSChatbotAPIF9C23C8C","RootResourceId"]},"restApiId":{"Ref":"CSChatbotAPIF9C23C8C"}}}}}},"api":{"id":"api","path":"cs-chatbot-api/CSChatbotAPI/Default/api","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"cs-chatbot-api/CSChatbotAPI/Default/api/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["CSChatbotAPIF9C23C8C","RootResourceId"]},"pathPart":"api","restApiId":{"Ref":"CSChatbotAPIF9C23C8C"}}}},"OPTIONS":{"id":"OPTIONS","path":"cs-chatbot-api/CSChatbotAPI/Default/api/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"cs-chatbot-api/CSChatbotAPI/Default/api/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Requested-With,Accept,Origin,Access-Control-Request-Method,Access-Control-Request-Headers'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Max-Age":"'86400'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"CSChatbotAPIapiD6D49CE3"},"restApiId":{"Ref":"CSChatbotAPIF9C23C8C"}}}}}},"inquiries":{"id":"inquiries","path":"cs-chatbot-api/CSChatbotAPI/Default/api/inquiries","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"cs-chatbot-api/CSChatbotAPI/Default/api/inquiries/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"CSChatbotAPIapiD6D49CE3"},"pathPart":"inquiries","restApiId":{"Ref":"CSChatbotAPIF9C23C8C"}}}},"OPTIONS":{"id":"OPTIONS","path":"cs-chatbot-api/CSChatbotAPI/Default/api/inquiries/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"cs-chatbot-api/CSChatbotAPI/Default/api/inquiries/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Requested-With,Accept,Origin,Access-Control-Request-Method,Access-Control-Request-Headers'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Max-Age":"'86400'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"CSChatbotAPIapiinquiries8E8EFB63"},"restApiId":{"Ref":"CSChatbotAPIF9C23C8C"}}}}}},"POST":{"id":"POST","path":"cs-chatbot-api/CSChatbotAPI/Default/api/inquiries/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.214.0","metadata":[]},"children":{"ApiPermission.cschatbotapiCSChatbotAPI86443238.POST..api.inquiries":{"id":"ApiPermission.cschatbotapiCSChatbotAPI86443238.POST..api.inquiries","path":"cs-chatbot-api/CSChatbotAPI/Default/api/inquiries/POST/ApiPermission.cschatbotapiCSChatbotAPI86443238.POST..api.inquiries","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["InquiryHandlerE9AA7F76","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"CSChatbotAPIF9C23C8C"},"/",{"Ref":"CSChatbotAPIDeploymentStageprodBC09F56E"},"/POST/api/inquiries"]]}}}},"ApiPermission.Test.cschatbotapiCSChatbotAPI86443238.POST..api.inquiries":{"id":"ApiPermission.Test.cschatbotapiCSChatbotAPI86443238.POST..api.inquiries","path":"cs-chatbot-api/CSChatbotAPI/Default/api/inquiries/POST/ApiPermission.Test.cschatbotapiCSChatbotAPI86443238.POST..api.inquiries","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["InquiryHandlerE9AA7F76","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"CSChatbotAPIF9C23C8C"},"/test-invoke-stage/POST/api/inquiries"]]}}}},"Resource":{"id":"Resource","path":"cs-chatbot-api/CSChatbotAPI/Default/api/inquiries/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["InquiryHandlerE9AA7F76","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"CSChatbotAPIapiinquiries8E8EFB63"},"restApiId":{"Ref":"CSChatbotAPIF9C23C8C"}}}}}},"GET":{"id":"GET","path":"cs-chatbot-api/CSChatbotAPI/Default/api/inquiries/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.214.0","metadata":[]},"children":{"ApiPermission.cschatbotapiCSChatbotAPI86443238.GET..api.inquiries":{"id":"ApiPermission.cschatbotapiCSChatbotAPI86443238.GET..api.inquiries","path":"cs-chatbot-api/CSChatbotAPI/Default/api/inquiries/GET/ApiPermission.cschatbotapiCSChatbotAPI86443238.GET..api.inquiries","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["InquiryHandlerE9AA7F76","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"CSChatbotAPIF9C23C8C"},"/",{"Ref":"CSChatbotAPIDeploymentStageprodBC09F56E"},"/GET/api/inquiries"]]}}}},"ApiPermission.Test.cschatbotapiCSChatbotAPI86443238.GET..api.inquiries":{"id":"ApiPermission.Test.cschatbotapiCSChatbotAPI86443238.GET..api.inquiries","path":"cs-chatbot-api/CSChatbotAPI/Default/api/inquiries/GET/ApiPermission.Test.cschatbotapiCSChatbotAPI86443238.GET..api.inquiries","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["InquiryHandlerE9AA7F76","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"CSChatbotAPIF9C23C8C"},"/test-invoke-stage/GET/api/inquiries"]]}}}},"Resource":{"id":"Resource","path":"cs-chatbot-api/CSChatbotAPI/Default/api/inquiries/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["InquiryHandlerE9AA7F76","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"CSChatbotAPIapiinquiries8E8EFB63"},"restApiId":{"Ref":"CSChatbotAPIF9C23C8C"}}}}}},"{id}":{"id":"{id}","path":"cs-chatbot-api/CSChatbotAPI/Default/api/inquiries/{id}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"cs-chatbot-api/CSChatbotAPI/Default/api/inquiries/{id}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"CSChatbotAPIapiinquiries8E8EFB63"},"pathPart":"{id}","restApiId":{"Ref":"CSChatbotAPIF9C23C8C"}}}},"OPTIONS":{"id":"OPTIONS","path":"cs-chatbot-api/CSChatbotAPI/Default/api/inquiries/{id}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"cs-chatbot-api/CSChatbotAPI/Default/api/inquiries/{id}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Requested-With,Accept,Origin,Access-Control-Request-Method,Access-Control-Request-Headers'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Max-Age":"'86400'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"CSChatbotAPIapiinquiriesid659BD9C2"},"restApiId":{"Ref":"CSChatbotAPIF9C23C8C"}}}}}},"GET":{"id":"GET","path":"cs-chatbot-api/CSChatbotAPI/Default/api/inquiries/{id}/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.214.0","metadata":[]},"children":{"ApiPermission.cschatbotapiCSChatbotAPI86443238.GET..api.inquiries.{id}":{"id":"ApiPermission.cschatbotapiCSChatbotAPI86443238.GET..api.inquiries.{id}","path":"cs-chatbot-api/CSChatbotAPI/Default/api/inquiries/{id}/GET/ApiPermission.cschatbotapiCSChatbotAPI86443238.GET..api.inquiries.{id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["InquiryHandlerE9AA7F76","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"CSChatbotAPIF9C23C8C"},"/",{"Ref":"CSChatbotAPIDeploymentStageprodBC09F56E"},"/GET/api/inquiries/*"]]}}}},"ApiPermission.Test.cschatbotapiCSChatbotAPI86443238.GET..api.inquiries.{id}":{"id":"ApiPermission.Test.cschatbotapiCSChatbotAPI86443238.GET..api.inquiries.{id}","path":"cs-chatbot-api/CSChatbotAPI/Default/api/inquiries/{id}/GET/ApiPermission.Test.cschatbotapiCSChatbotAPI86443238.GET..api.inquiries.{id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["InquiryHandlerE9AA7F76","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"CSChatbotAPIF9C23C8C"},"/test-invoke-stage/GET/api/inquiries/*"]]}}}},"Resource":{"id":"Resource","path":"cs-chatbot-api/CSChatbotAPI/Default/api/inquiries/{id}/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["InquiryHandlerE9AA7F76","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"CSChatbotAPIapiinquiriesid659BD9C2"},"restApiId":{"Ref":"CSChatbotAPIF9C23C8C"}}}}}},"escalate":{"id":"escalate","path":"cs-chatbot-api/CSChatbotAPI/Default/api/inquiries/{id}/escalate","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"cs-chatbot-api/CSChatbotAPI/Default/api/inquiries/{id}/escalate/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"CSChatbotAPIapiinquiriesid659BD9C2"},"pathPart":"escalate","restApiId":{"Ref":"CSChatbotAPIF9C23C8C"}}}},"OPTIONS":{"id":"OPTIONS","path":"cs-chatbot-api/CSChatbotAPI/Default/api/inquiries/{id}/escalate/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"cs-chatbot-api/CSChatbotAPI/Default/api/inquiries/{id}/escalate/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Requested-With,Accept,Origin,Access-Control-Request-Method,Access-Control-Request-Headers'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Max-Age":"'86400'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"CSChatbotAPIapiinquiriesidescalate0D5235E7"},"restApiId":{"Ref":"CSChatbotAPIF9C23C8C"}}}}}},"POST":{"id":"POST","path":"cs-chatbot-api/CSChatbotAPI/Default/api/inquiries/{id}/escalate/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.214.0","metadata":[]},"children":{"ApiPermission.cschatbotapiCSChatbotAPI86443238.POST..api.inquiries.{id}.escalate":{"id":"ApiPermission.cschatbotapiCSChatbotAPI86443238.POST..api.inquiries.{id}.escalate","path":"cs-chatbot-api/CSChatbotAPI/Default/api/inquiries/{id}/escalate/POST/ApiPermission.cschatbotapiCSChatbotAPI86443238.POST..api.inquiries.{id}.escalate","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["InquiryHandlerE9AA7F76","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"CSChatbotAPIF9C23C8C"},"/",{"Ref":"CSChatbotAPIDeploymentStageprodBC09F56E"},"/POST/api/inquiries/*/escalate"]]}}}},"ApiPermission.Test.cschatbotapiCSChatbotAPI86443238.POST..api.inquiries.{id}.escalate":{"id":"ApiPermission.Test.cschatbotapiCSChatbotAPI86443238.POST..api.inquiries.{id}.escalate","path":"cs-chatbot-api/CSChatbotAPI/Default/api/inquiries/{id}/escalate/POST/ApiPermission.Test.cschatbotapiCSChatbotAPI86443238.POST..api.inquiries.{id}.escalate","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["InquiryHandlerE9AA7F76","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"CSChatbotAPIF9C23C8C"},"/test-invoke-stage/POST/api/inquiries/*/escalate"]]}}}},"Resource":{"id":"Resource","path":"cs-chatbot-api/CSChatbotAPI/Default/api/inquiries/{id}/escalate/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["InquiryHandlerE9AA7F76","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"CSChatbotAPIapiinquiriesidescalate0D5235E7"},"restApiId":{"Ref":"CSChatbotAPIF9C23C8C"}}}}}}}}}}}},"ai-response":{"id":"ai-response","path":"cs-chatbot-api/CSChatbotAPI/Default/api/ai-response","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"cs-chatbot-api/CSChatbotAPI/Default/api/ai-response/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"CSChatbotAPIapiD6D49CE3"},"pathPart":"ai-response","restApiId":{"Ref":"CSChatbotAPIF9C23C8C"}}}},"OPTIONS":{"id":"OPTIONS","path":"cs-chatbot-api/CSChatbotAPI/Default/api/ai-response/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"cs-chatbot-api/CSChatbotAPI/Default/api/ai-response/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Requested-With,Accept,Origin,Access-Control-Request-Method,Access-Control-Request-Headers'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Max-Age":"'86400'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"CSChatbotAPIapiairesponseFEDB9FFB"},"restApiId":{"Ref":"CSChatbotAPIF9C23C8C"}}}}}},"POST":{"id":"POST","path":"cs-chatbot-api/CSChatbotAPI/Default/api/ai-response/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.214.0","metadata":[]},"children":{"ApiPermission.cschatbotapiCSChatbotAPI86443238.POST..api.ai-response":{"id":"ApiPermission.cschatbotapiCSChatbotAPI86443238.POST..api.ai-response","path":"cs-chatbot-api/CSChatbotAPI/Default/api/ai-response/POST/ApiPermission.cschatbotapiCSChatbotAPI86443238.POST..api.ai-response","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AIResponseGenerator509A2058","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"CSChatbotAPIF9C23C8C"},"/",{"Ref":"CSChatbotAPIDeploymentStageprodBC09F56E"},"/POST/api/ai-response"]]}}}},"ApiPermission.Test.cschatbotapiCSChatbotAPI86443238.POST..api.ai-response":{"id":"ApiPermission.Test.cschatbotapiCSChatbotAPI86443238.POST..api.ai-response","path":"cs-chatbot-api/CSChatbotAPI/Default/api/ai-response/POST/ApiPermission.Test.cschatbotapiCSChatbotAPI86443238.POST..api.ai-response","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AIResponseGenerator509A2058","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"CSChatbotAPIF9C23C8C"},"/test-invoke-stage/POST/api/ai-response"]]}}}},"Resource":{"id":"Resource","path":"cs-chatbot-api/CSChatbotAPI/Default/api/ai-response/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AIResponseGenerator509A2058","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"CSChatbotAPIapiairesponseFEDB9FFB"},"restApiId":{"Ref":"CSChatbotAPIF9C23C8C"}}}}}}}}}}}}}},"ApiUrl":{"id":"ApiUrl","path":"cs-chatbot-api/ApiUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.214.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"cs-chatbot-api/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"cs-chatbot-api/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.214.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"cs-chatbot-api/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.214.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"cs-chatbot-api/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.214.0"}}}},"cs-chatbot-frontend":{"id":"cs-chatbot-frontend","path":"cs-chatbot-frontend","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.214.0"},"children":{"WebsiteBucket":{"id":"WebsiteBucket","path":"cs-chatbot-frontend/WebsiteBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"cs-chatbot-frontend/WebsiteBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketName":{"Fn::Join":["",["cs-chatbot-frontend-",{"Ref":"AWS::AccountId"}]]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"ignorePublicAcls":true},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"},{"key":"aws-cdk:cr-owned:9dbd43fc","value":"true"}],"websiteConfiguration":{"indexDocument":"index.html","errorDocument":"error.html"}}}},"Policy":{"id":"Policy","path":"cs-chatbot-frontend/WebsiteBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"cs-chatbot-frontend/WebsiteBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"WebsiteBucket75C24D94"},"policyDocument":{"Statement":[{"Action":"s3:GetObject","Effect":"Allow","Principal":{"AWS":"*"},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["WebsiteBucket75C24D94","Arn"]},"/*"]]}},{"Action":["s3:DeleteObject*","s3:GetBucket*","s3:List*","s3:PutBucketPolicy"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["WebsiteBucket75C24D94","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["WebsiteBucket75C24D94","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"cs-chatbot-frontend/WebsiteBucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.214.0","metadata":[]},"children":{"Default":{"id":"Default","path":"cs-chatbot-frontend/WebsiteBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.214.0"}}}}}},"Custom::S3AutoDeleteObjectsCustomResourceProvider":{"id":"Custom::S3AutoDeleteObjectsCustomResourceProvider","path":"cs-chatbot-frontend/Custom::S3AutoDeleteObjectsCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.214.0"},"children":{"Staging":{"id":"Staging","path":"cs-chatbot-frontend/Custom::S3AutoDeleteObjectsCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.214.0"}},"Role":{"id":"Role","path":"cs-chatbot-frontend/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.214.0"}},"Handler":{"id":"Handler","path":"cs-chatbot-frontend/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.214.0"}}}},"WebsiteDistribution":{"id":"WebsiteDistribution","path":"cs-chatbot-frontend/WebsiteDistribution","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.Distribution","version":"2.214.0","metadata":[]},"children":{"Origin1":{"id":"Origin1","path":"cs-chatbot-frontend/WebsiteDistribution/Origin1","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Resource":{"id":"Resource","path":"cs-chatbot-frontend/WebsiteDistribution/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnDistribution","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::Distribution","aws:cdk:cloudformation:props":{"distributionConfig":{"enabled":true,"origins":[{"domainName":{"Fn::Select":[2,{"Fn::Split":["/",{"Fn::GetAtt":["WebsiteBucket75C24D94","WebsiteURL"]}]}]},"id":"cschatbotfrontendWebsiteDistributionOrigin197DC0F5B","customOriginConfig":{"originSslProtocols":["TLSv1.2"],"originProtocolPolicy":"http-only"}}],"defaultCacheBehavior":{"pathPattern":"*","targetOriginId":"cschatbotfrontendWebsiteDistributionOrigin197DC0F5B","cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","compress":true,"viewerProtocolPolicy":"redirect-to-https"},"customErrorResponses":[{"errorCachingMinTtl":300,"errorCode":404,"responseCode":200,"responsePagePath":"/index.html"},{"errorCachingMinTtl":300,"errorCode":403,"responseCode":200,"responsePagePath":"/index.html"}],"defaultRootObject":"index.html","httpVersion":"http2","ipv6Enabled":true}}}}}},"DeployWebsite":{"id":"DeployWebsite","path":"cs-chatbot-frontend/DeployWebsite","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_deployment.BucketDeployment","version":"2.214.0"},"children":{"AwsCliLayer":{"id":"AwsCliLayer","path":"cs-chatbot-frontend/DeployWebsite/AwsCliLayer","constructInfo":{"fqn":"aws-cdk-lib.lambda_layer_awscli.AwsCliLayer","version":"2.214.0","metadata":[]},"children":{"Code":{"id":"Code","path":"cs-chatbot-frontend/DeployWebsite/AwsCliLayer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.214.0"},"children":{"Stage":{"id":"Stage","path":"cs-chatbot-frontend/DeployWebsite/AwsCliLayer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.214.0"}},"AssetBucket":{"id":"AssetBucket","path":"cs-chatbot-frontend/DeployWebsite/AwsCliLayer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.214.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"cs-chatbot-frontend/DeployWebsite/AwsCliLayer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"content":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"},"s3Key":"c49d356cac773d491c5f7ac148995a1181498a8e289429f8612a7f7e3814f535.zip"},"description":"/opt/awscli/aws"}}}}},"CustomResourceHandler":{"id":"CustomResourceHandler","path":"cs-chatbot-frontend/DeployWebsite/CustomResourceHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.SingletonFunction","version":"2.214.0","metadata":[]}},"Asset1":{"id":"Asset1","path":"cs-chatbot-frontend/DeployWebsite/Asset1","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.214.0"},"children":{"Stage":{"id":"Stage","path":"cs-chatbot-frontend/DeployWebsite/Asset1/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.214.0"}},"AssetBucket":{"id":"AssetBucket","path":"cs-chatbot-frontend/DeployWebsite/Asset1/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.214.0","metadata":[]}}}},"Asset2":{"id":"Asset2","path":"cs-chatbot-frontend/DeployWebsite/Asset2","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.214.0"},"children":{"Stage":{"id":"Stage","path":"cs-chatbot-frontend/DeployWebsite/Asset2/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.214.0"}},"AssetBucket":{"id":"AssetBucket","path":"cs-chatbot-frontend/DeployWebsite/Asset2/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.214.0","metadata":[]}}}},"Asset3":{"id":"Asset3","path":"cs-chatbot-frontend/DeployWebsite/Asset3","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.214.0"},"children":{"Stage":{"id":"Stage","path":"cs-chatbot-frontend/DeployWebsite/Asset3/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.214.0"}},"AssetBucket":{"id":"AssetBucket","path":"cs-chatbot-frontend/DeployWebsite/Asset3/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.214.0","metadata":[]}}}},"CustomResource":{"id":"CustomResource","path":"cs-chatbot-frontend/DeployWebsite/CustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.214.0","metadata":[]},"children":{"Default":{"id":"Default","path":"cs-chatbot-frontend/DeployWebsite/CustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.214.0"}}}}}},"Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C":{"id":"Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C","path":"cs-chatbot-frontend/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.214.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"cs-chatbot-frontend/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.214.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"cs-chatbot-frontend/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.214.0","metadata":[]}},"Resource":{"id":"Resource","path":"cs-chatbot-frontend/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"cs-chatbot-frontend/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"cs-chatbot-frontend/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:aws:s3:::",{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"},"/*"]]},{"Fn::Join":["",["arn:aws:s3:::",{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"}]]}]},{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["WebsiteBucket75C24D94","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["WebsiteBucket75C24D94","Arn"]},"/*"]]}]},{"Action":["cloudfront:CreateInvalidation","cloudfront:GetInvalidation"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF","roles":[{"Ref":"CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265"}]}}}}}}},"Code":{"id":"Code","path":"cs-chatbot-frontend/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.214.0"},"children":{"Stage":{"id":"Stage","path":"cs-chatbot-frontend/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.214.0"}},"AssetBucket":{"id":"AssetBucket","path":"cs-chatbot-frontend/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.214.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"cs-chatbot-frontend/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"},"s3Key":"3423a042b818e31c1e34a19d6689ab2e5f9b70fcbe9e71df66f241b20a200bd9.zip"},"environment":{"variables":{"AWS_CA_BUNDLE":"/etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem"}},"handler":"index.handler","layers":[{"Ref":"DeployWebsiteAwsCliLayer17DBC421"}],"role":{"Fn::GetAtt":["CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265","Arn"]},"runtime":"python3.11","timeout":900}}}}},"CloudFrontUrl":{"id":"CloudFrontUrl","path":"cs-chatbot-frontend/CloudFrontUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.214.0"}},"DistributionId":{"id":"DistributionId","path":"cs-chatbot-frontend/DistributionId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.214.0"}},"S3BucketName":{"id":"S3BucketName","path":"cs-chatbot-frontend/S3BucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.214.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"cs-chatbot-frontend/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"cs-chatbot-frontend/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.214.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"cs-chatbot-frontend/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.214.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"cs-chatbot-frontend/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.214.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}